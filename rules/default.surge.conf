#!MANAGED-CONFIG $subs_link interval=43200 strict=true
# Surge çš„è§„åˆ™é…ç½®æ‰‹å†Œ: https://manual.nssurge.com/
# Thanks @Hackl0us SS-Rule-Snippet

[General]
loglevel = notify
# ä» Surge iOS 4 / Surge Mac 3.3.0 èµ·ï¼Œå·¥å…·å¼€å§‹æ”¯æŒ DoH
doh-server = https://doh.pub/dns-query
# https://dns.alidns.com/dns-query, https://13800000000.rubyfish.cn/, https://dns.google/dns-query
dns-server = 223.5.5.5, 114.114.114.114
tun-excluded-routes = 0.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
skip-proxy = localhost, *.local, injections.adguard.org, local.adguard.org, captive.apple.com, guzzoni.apple.com, 0.0.0.0/8, 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32

wifi-assist = true
allow-wifi-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153

external-controller-access = surgepasswd@0.0.0.0:6170
replica = false

tls-provider = openssl
network-framework = false
exclude-simple-hostnames = true
ipv6 = true

test-timeout = 4
proxy-test-url = http://www.gstatic.com/generate_204
geoip-maxmind-url = https://unpkg.zhimg.com/rulestatic@1.0.1/Country.mmdb

[Replica]
hide-apple-request = true
hide-crashlytics-request = true
use-keyword-filter = false
hide-udp = false

# -----------------------------
# Surge çš„å‡ ç§ç­–ç•¥é…ç½®è§„èŒƒï¼Œè¯·å‚è€ƒ https://manual.nssurge.com/policy/proxy.html
# ä¸åŒçš„ä»£ç†ç­–ç•¥æœ‰*å¾ˆå¤š*å¯é€‰å‚æ•°ï¼Œè¯·å‚è€ƒä¸Šæ–¹è¿æ¥çš„ Parameters ä¸€æ®µï¼Œæ ¹æ®éœ€æ±‚è‡ªè¡Œæ·»åŠ å‚æ•°ã€‚
#
# Surge ç°å·²æ”¯æŒ UDP è½¬å‘åŠŸèƒ½ï¼Œè¯·å‚è€ƒ: https://trello.com/c/ugOMxD3u/53-udp-%E8%BD%AC%E5%8F%91
# Surge ç°å·²æ”¯æŒ TCP-Fast-Open æŠ€æœ¯ï¼Œè¯·å‚è€ƒ: https://trello.com/c/ij65BU6Q/48-tcp-fast-open-troubleshooting-guide
# Surge ç°å·²æ”¯æŒ ss-libev çš„å…¨éƒ¨åŠ å¯†æ–¹å¼å’Œæ··æ·†ï¼Œè¯·å‚è€ƒ: https://trello.com/c/BTr0vG1O/47-ss-libev-%E7%9A%84%E6%94%AF%E6%8C%81%E6%83%85%E5%86%B5
# -----------------------------

[Proxy]
DIRECT = direct
$proxies

[Proxy Group]
ğŸš€ èŠ‚ç‚¹é€‰æ‹© = select,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,DIRECT,$proxy_group
â™»ï¸ è‡ªåŠ¨é€‰æ‹© = url-test,$proxy_group,url=http://www.gstatic.com/generate_204,interval=300,tolerance=50
ğŸŒ å›½å¤–åª’ä½“ = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,$proxy_group
ğŸ“² ç”µæŠ¥ä¿¡æ¯ = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,$proxy_group
â“‚ï¸ å¾®è½¯æœåŠ¡ = select,ğŸ¯ å…¨çƒç›´è¿,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,$proxy_group
ğŸ è‹¹æœæœåŠ¡ = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,$proxy_group
ğŸ“¢ è°·æ­ŒFCM = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$proxy_group
ğŸ¯ å…¨çƒç›´è¿ = select,DIRECT,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
ğŸ›‘ å…¨çƒæ‹¦æˆª = select,REJECT,DIRECT
ğŸƒ åº”ç”¨å‡€åŒ– = select,REJECT,DIRECT
ğŸŸ æ¼ç½‘ä¹‹é±¼ = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,$proxy_group

[Rule]
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list,ğŸ›‘ å…¨çƒæ‹¦æˆª,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list,ğŸƒ åº”ç”¨å‡€åŒ–,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list,ğŸ“¢ è°·æ­ŒFCM,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list,â“‚ï¸ å¾®è½¯æœåŠ¡,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list,ğŸ è‹¹æœæœåŠ¡,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list,ğŸ“² ç”µæŠ¥ä¿¡æ¯,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list,ğŸŒ å›½å¤–åª’ä½“,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyLite.list,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
FINAL,ğŸŸ æ¼ç½‘ä¹‹é±¼
